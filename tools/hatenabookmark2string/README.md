# はてなブックマーク「読んだ」抽出 Bookmarklet

## 概要

「はてなブックマーク」のブックマーク一覧ページから、以下の条件に該当するブックマークを抽出し、Markdown形式でクリップボードにコピーするBookmarkletです。

### 抽出条件
- タグとして「読んだ」がついているブックマーク
- または、コメントに「読んだ」が含まれるブックマーク

### 出力形式
```markdown
- （公開日：2025/12/29、閲覧日：2025/12/29）[タイトル](URL)
    - コメント内容
```

- 公開日・閲覧日はともにブックマーク日付を使用
- コメントが空の場合は、コメント行は出力されません

## インストール方法

### 1. Bookmarkletコードの準備

`bookmarklet.js` の内容を1行に圧縮する必要があります。以下のいずれかの方法で圧縮してください。

#### オンラインツールを使用する場合
1. https://www.browserling.com/tools/minify-js などのJavaScript圧縮ツールにアクセス
2. `bookmarklet.js` の内容をコピー&ペースト
3. 圧縮されたコードを取得

#### 手動で準備する場合
`bookmarklet.js` のコードの先頭に `javascript:` を追加し、改行を削除して1行にします。

### 2. ブックマークレットの登録

#### Chrome / Edge の場合
1. ブックマークバーを表示（Ctrl+Shift+B または Cmd+Shift+B）
2. ブックマークバー上で右クリック → 「ページを追加」
3. 名前: `はてブ「読んだ」抽出` (任意の名前)
4. URL: `javascript:(圧縮したコード)`
5. 保存

#### Firefox の場合
1. ブックマークツールバーを表示（右クリック → ツールバー → ブックマークツールバー）
2. ブックマークツールバー上で右クリック → 「新しいブックマーク」
3. 名前: `はてブ「読んだ」抽出` (任意の名前)
4. URL: `javascript:(圧縮したコード)`
5. 完了

#### Safari の場合
1. ブックマークバーを表示
2. ブックマークバー上で右クリック → 「ブックマークを追加」
3. 名前とURLを入力
4. 保存

## 使い方

1. [はてなブックマーク](https://b.hatena.ne.jp/) にログイン
2. 自分のブックマーク一覧ページ（`https://b.hatena.ne.jp/ユーザー名/bookmark`）を開く
3. ブックマークバーの「はてブ「読んだ」抽出」をクリック
4. 抽出が完了すると、自動的にクリップボードにコピーされ、完了メッセージが表示されます
5. テキストエディタなどに貼り付けて使用

## 出力例

```markdown
- （公開日：2025/12/29、閲覧日：2025/12/29）[開発を任されたときには、助けてもらえるようにしている - Mitsuyuki.Shiiba](https://bufferings.hatenablog.com/entry/2025/12/28/141140)
    - 良かった
- （公開日：2025/12/28、閲覧日：2025/12/28）[Agentが終わったから、次はなに? - LAI Blog](https://blog.lai.so/agents-in-2025/)
```

## トラブルシューティング

### ブックマークが抽出されない
- 「読んだ」タグが正しく付いているか確認してください
- コメントに「読んだ」というテキストが含まれているか確認してください
- ページが完全に読み込まれているか確認してください

### クリップボードにコピーされない
- ブラウザがクリップボードAPIをサポートしていない場合、モーダルウィンドウが表示されます
- モーダル内のテキストを手動で選択してコピーしてください

### エラーが発生する
- ブラウザのコンソール（F12）を開いてエラーメッセージを確認してください
- はてなブックマークのHTML構造が変更された可能性があります

## 注意事項

- このBookmarkletは、はてなブックマークの現在のHTML構造に依存しています
- はてなブックマークの仕様変更により動作しなくなる可能性があります
- 大量のブックマークを一度に処理する場合、ブラウザが一時的に応答しなくなる可能性があります
